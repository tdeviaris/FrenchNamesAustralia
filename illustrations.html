<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Illustrations - French Names Along the Australian Coastline</title>
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon16.png">
    <link rel="stylesheet" href="css/nav.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Garamond:wght@400;700&family=Lato:wght@300;400&display=swap');
        :root { --nav-height: 72px; --accent: #0056b3; }
        * { box-sizing: border-box; }
        body { font-family: 'Lato', sans-serif; margin: 0; background-color: #999; color: #333; padding-top: var(--nav-height); }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }

        .content-section { background-color: white; padding: clamp(28px, 4vw, 40px); margin-top: 16px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .content-section h1 { font-family: 'Lato', sans-serif; font-size: 2.2rem; font-weight: 700; border-bottom: 2px solid #0056b3; padding-bottom: 10px; margin: 0 0 18px 0; }
        .content-section h1 img { width: 24px; vertical-align: middle; margin-left: 8px; opacity: 0.8; }

        .entry { margin-bottom: 40px; margin-top: 30px; }
        .entry.has-thumb::after { content: ""; display: block; clear: both; }
        .entry-link { display: inline-flex; align-items: center; justify-content: center; padding: 10px 16px; background-color: #0056b3; color: #fff; border-radius: 999px; border: none; text-decoration: none; font-weight: 400; font-family: 'Lato', sans-serif; transition: background-color 0.2s ease; cursor: pointer; font-size: 1rem; }
        .entry-link:hover { background-color: #003f82; }
        .entry-description { margin-top: 10px; line-height: 1.6; color: #555; }

        .entry-thumb {
            margin-top: 14px;
            float: left;
            width: 250px; /* même taille max que les miniatures des cartes */
            margin-right: 18px;
            margin-bottom: 12px;
        }
        .entry-thumb button,
        .entry-thumb a { border: none; padding: 0; background: transparent; cursor: pointer; display: block; width: 100%; text-decoration: none; }
        .entry-thumb button:focus-visible,
        .entry-thumb a:focus-visible { outline: 3px solid #FFD700; outline-offset: 6px; border-radius: 12px; }
        .entry-thumb img { width: 100%; height: auto; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.18); }

        .illustrations-preview {
            margin-top: 18px;
            display: flex;
            gap: 14px;
            justify-content: center;
        }
        .illustrations-preview-button {
            border: none;
            padding: 0;
            background: transparent;
            cursor: pointer;
            flex: 1 1 0;
            min-width: 0;
        }
        .illustrations-preview-button:focus-visible {
            outline: 3px solid #FFD700;
            outline-offset: 6px;
            border-radius: 12px;
        }
        .illustrations-preview img {
            width: 100%;
            height: auto;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.18);
        }

        @media (max-width: 768px) {
            .entry-thumb {
                float: none;
                width: min(320px, 100%);
                margin-right: 0;
            }
            .illustrations-preview {
                flex-direction: column;
            }
        }

        /* Modale IIIF */
        .iiif-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; align-items: center; justify-content: center; padding: 20px; z-index: 2000; }
        .iiif-overlay.is-visible { display: flex; }
        .iiif-container { position: relative; width: 95vw; height: 95vh; }
        .iiif-close { position: fixed; top: 20px; right: 20px; width: 44px; height: 44px; border-radius: 50%; border: 2px solid #fff; background: rgba(0,0,0,0.8); color: #fff; cursor: pointer; font-size: 1.6rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 8px 20px rgba(0,0,0,0.4); z-index: 2100; transition: all 0.2s ease; }
        .iiif-close:hover { background: rgba(255,255,255,0.95); color: #000; transform: scale(1.1); }
        .iiif-close:focus-visible { outline: 3px solid #FFD700; }

        /* Modale vidéo */
        .video-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.86); display: none; align-items: center; justify-content: center; padding: 10px; z-index: 2000; }
        .video-overlay.is-visible { display: flex; }
        .video-container { position: relative; width: min(96vw, 96vh); }
        .video-container video { width: 100%; height: auto; max-height: 96vh; border-radius: 8px; box-shadow: 0 12px 28px rgba(0,0,0,0.35); background: #000; }
        .video-close { position: fixed; top: 16px; right: 16px; width: 44px; height: 44px; border-radius: 50%; border: none; background: rgba(255,255,255,0.95); color: #333; cursor: pointer; font-size: 1.7rem; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 2100; }
        .video-close:hover { background: #f2f2f2; }
        .video-close:focus-visible { outline: 3px solid #FFD700; }

        footer { background: #1f1f1f; color: #fff; text-align: center; padding: 20px; margin-top: 40px; }

        /* Language-specific content blocks */
        [data-lang] { display: none; }
        html[lang^="en"] [data-lang="en"],
        html[lang^="fr"] [data-lang="fr"] { display: block; }
    </style>
</head>
<body>
    <nav>
    <ul>
        <li><a href="index.html" id="nav-home" data-i18n="nav-home">Accueil</a></li>
        <li><a href="map.html" id="nav-map" data-i18n="nav-map">Carte</a></li>
        <li><a href="expert.html" id="nav-ai" data-i18n="nav-ai">Q&R IA</a></li>
        <li><a href="resources.html" id="nav-resources" data-i18n="nav-resources">Ressources</a></li>
        <li><a href="presentation.html" id="nav-about" data-i18n="nav-about">À propos</a></li>
    </ul>
    <div class="lang-switcher">
        <button type="button" id="lang-fr" title="Passer en Français">
            <img src="img/fr.svg" alt="Français">
        </button>
        <button type="button" id="lang-en" title="Switch to English">
            <img src="img/au.svg" alt="English">
        </button>
    </div>
</nav>

    <main class="container">
        <div data-lang="en">
        <section class="content-section">
            <h1>Illustrations <a href="resources.html"><img src="img/up-arrow.svg" alt="Back to Resources page"></a></h1>

            <div class="entry">
                <p><button class="entry-link js-resource-video" type="button" data-video-src="img/illustrations.mp4">Examples of illustrations</button></p>
                <p class="entry-description">Slideshow of selected project illustrations.</p>
                <div class="illustrations-preview">
                    <button class="illustrations-preview-button js-resource-video" type="button" data-video-src="img/illustrations.mp4" aria-label="Play examples of illustrations">
                        <img src="img/illus0.jpg" alt="Illustration (thumbnail)" loading="lazy" decoding="async">
                    </button>
                    <button class="illustrations-preview-button js-resource-video" type="button" data-video-src="img/illustrations.mp4" aria-label="Play examples of illustrations">
                        <img src="img/illus00.jpg" alt="Illustration (thumbnail)" loading="lazy" decoding="async">
                    </button>
                    <button class="illustrations-preview-button js-resource-video" type="button" data-video-src="img/illustrations.mp4" aria-label="Play examples of illustrations">
                        <img src="img/illus000.jpg" alt="Illustration (thumbnail)" loading="lazy" decoding="async">
                    </button>
                </div>
            </div>

            <div class="entry has-thumb">
                <p><button class="entry-link js-voyage-link" type="button">Voyage of Discovery to the Southern Lands</button></p>
                <div class="entry-thumb">
                    <button type="button" class="js-voyage-link" aria-label="Open Voyage of Discovery to the Southern Lands">
                        <img src="img/voyage.jpg" alt="Voyage of Discovery to the Southern Lands (thumbnail)" loading="lazy" decoding="async">
                    </button>
                </div>
                <p class="entry-description" style="margin-top: 28px;">Voyage of Discovery to the Southern Lands: executed by order of His Majesty the Emperor and King, on the corvettes the Géographe, the Naturaliste, and the schooner the Casuarina, during the years 1800, 1801, 1802, 1803 and 1804; [Historical account] published by imperial decree, under the ministry of M. de Champagny and written by M. F. Péron.<br>Source: <a href="https://gallica.bnf.fr/ark:/12148/btv1b2300134q.item" target="_blank" rel="noopener">National Library of France</a><br><br>The illustrations presented above come from this work, which can be consulted in full.</p>
            </div>

            <div class="entry has-thumb">
                <p><button class="entry-link js-resource-video" type="button" data-video-src="img/Topo1.mp4">Example of coastal profile sketches</button></p>
                <div class="entry-thumb">
                    <button type="button" class="js-resource-video" data-video-src="img/Topo1.mp4" aria-label="Play the coastal profile sketches video">
                        <img src="img/Croquis_cote.jpg" alt="Coastal profile sketches (thumbnail)" loading="lazy" decoding="async">
                    </button>
                </div>
                <p class="entry-description" style="margin-top: 28px;">Views of different parts of Anthony Van Diemen's Land<br>Beautemps-Beaupré, C. F &amp; Collin, E &amp; Beautemps-Beaupré, C. F &amp; France.<br>Ministry of the Navy and Colonies. (1807).<br>Source: <a href="https://nla.gov.au/nla.obj-230811126/view" target="_blank" rel="noopener">National Library of Australia</a></p>
            </div>
        </section>
        </div>

        <div data-lang="fr">
        <section class="content-section">
            <h1>Illustrations <a href="resources.html"><img src="img/up-arrow.svg" alt="Retour à la page Ressources"></a></h1>

            <div class="entry">
                <p><button class="entry-link js-resource-video" type="button" data-video-src="img/illustrations.mp4">Exemples d'illustrations</button></p>
                <p class="entry-description">Diaporama vidéo d'une sélection d'illustrations du projet.</p>
                <div class="illustrations-preview">
                    <button class="illustrations-preview-button js-resource-video" type="button" data-video-src="img/illustrations.mp4" aria-label="Lire la vidéo Exemples d'illustrations">
                        <img src="img/illus0.jpg" alt="Illustration (miniature)" loading="lazy" decoding="async">
                    </button>
                    <button class="illustrations-preview-button js-resource-video" type="button" data-video-src="img/illustrations.mp4" aria-label="Lire la vidéo Exemples d'illustrations">
                        <img src="img/illus00.jpg" alt="Illustration (miniature)" loading="lazy" decoding="async">
                    </button>
                    <button class="illustrations-preview-button js-resource-video" type="button" data-video-src="img/illustrations.mp4" aria-label="Lire la vidéo Exemples d'illustrations">
                        <img src="img/illus000.jpg" alt="Illustration (miniature)" loading="lazy" decoding="async">
                    </button>
                </div>
            </div>

            <div class="entry has-thumb">
                <p><button class="entry-link js-voyage-link" type="button">Voyage de découvertes aux terres australes</button></p>
                <div class="entry-thumb">
                    <button type="button" class="js-voyage-link" aria-label="Ouvrir Voyage de découvertes aux terres australes">
                        <img src="img/voyage.jpg" alt="Voyage de découvertes aux terres australes (miniature)" loading="lazy" decoding="async">
                    </button>
                </div>
                <p class="entry-description" style="margin-top: 28px;">Voyage de découvertes aux terres australes : exécuté par ordre de Sa Majesté l'empereur et roi, sur les corvettes le Géographe, le Naturaliste, et la goëlette le Casuarina, pendent les années 1800, 1801, 1802, 1803 et 1804; [Historique] publié par decret impérial, sous le ministère de M. de Champagny et rédigé par M. F. Péron.<br>Source : <a href="https://gallica.bnf.fr/ark:/12148/btv1b2300134q.item" target="_blank" rel="noopener">Bibliothèque nationale de France</a><br><br>Les illustrations présentées ci-dessus proviennent de cet ouvrage qui peut être consulté en intégralité.</p>
            </div>

            <div class="entry has-thumb">
                <p><button class="entry-link js-resource-video" type="button" data-video-src="img/Topo1.mp4">Exemple de croquis de profils des côtes</button></p>
                <div class="entry-thumb">
                    <button type="button" class="js-resource-video" data-video-src="img/Topo1.mp4" aria-label="Lire la vidéo Exemple de croquis de profils des côtes">
                        <img src="img/Croquis_cote.jpg" alt="Croquis de profils des côtes (miniature)" loading="lazy" decoding="async">
                    </button>
                </div>
                <p class="entry-description" style="margin-top: 28px;">Vues de différentes parties de la Terre d'Anthony Van Diemen<br>Beautemps-Beaupré, C. F &amp; Collin, E &amp; Beautemps-Beaupré, C. F &amp; France.<br>Ministère de la marine et des colonies. (1807).<br>Source : <a href="https://nla.gov.au/nla.obj-230811126/view" target="_blank" rel="noopener">National Library of Australia</a></p>
            </div>
        </section>
        </div>
    </main>

    <div class="iiif-overlay" role="dialog" aria-modal="true" aria-label="IIIF Viewer">
        <div class="iiif-container">
            <button type="button" class="iiif-close" aria-label="Close">&times;</button>
            <iframe id="iiif-viewer" style="width: 100%; height: 100%; border: none;" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>
        </div>
    </div>

    <div class="video-overlay" role="dialog" aria-modal="true" aria-label="Video player">
        <div class="video-container">
            <button type="button" class="video-close" aria-label="Close">&times;</button>
            <video id="resource-video" controls preload="metadata"></video>
        </div>
    </div>

    <div data-include-footer></div>

    <script src="js/translations.js?v=20241012"></script>
    <script src="js/main.js?v=20241012"></script>
    <script>
        // IIIF Viewer modal
        (() => {
            const voyageLinks = document.querySelectorAll('.js-voyage-link');
            const iiifOverlay = document.querySelector('.iiif-overlay');
            const iiifViewer = document.getElementById('iiif-viewer');
            const iiifCloseBtn = document.querySelector('.iiif-close');
            let lastFocusedElement = null;

            const openIIIFOverlay = () => {
                if (!iiifOverlay || !iiifViewer) return;
                iiifViewer.src = 'Viewer.html';
                iiifOverlay.classList.add('is-visible');
                lastFocusedElement = document.activeElement;
                document.body.style.overflow = 'hidden';
                document.addEventListener('keydown', handleIIIFKeydown);
                iiifCloseBtn?.focus();
            };

            const closeIIIFOverlay = () => {
                if (!iiifOverlay || !iiifViewer) return;
                iiifViewer.src = '';
                iiifOverlay.classList.remove('is-visible');
                document.body.style.overflow = '';
                document.removeEventListener('keydown', handleIIIFKeydown);
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            const handleIIIFKeydown = (event) => {
                if (event.key === 'Escape') {
                    closeIIIFOverlay();
                }
            };

            voyageLinks.forEach((voyageLink) => {
                voyageLink.addEventListener('click', openIIIFOverlay);
            });
            iiifCloseBtn?.addEventListener('click', closeIIIFOverlay);
            iiifOverlay?.addEventListener('click', (event) => {
                if (event.target === iiifOverlay) {
                    closeIIIFOverlay();
                }
            });
        })();

        // Video modal
        (() => {
            const triggers = document.querySelectorAll('.js-resource-video[data-video-src]');
            const overlay = document.querySelector('.video-overlay');
            const video = document.getElementById('resource-video');
            const closeBtn = document.querySelector('.video-close');
            let lastFocusedElement = null;

            const openOverlay = (trigger) => {
                if (!overlay || !video || !trigger) return;
                const videoSrc = trigger.getAttribute('data-video-src');
                if (!videoSrc) return;
                video.src = videoSrc;
                overlay.classList.add('is-visible');
                lastFocusedElement = document.activeElement;
                video.play().catch(() => {});
                document.addEventListener('keydown', handleKeydown);
                closeBtn?.focus();
            };

            const closeOverlay = () => {
                if (!overlay || !video) return;
                video.pause();
                video.currentTime = 0;
                video.removeAttribute('src');
                video.load();
                overlay.classList.remove('is-visible');
                document.removeEventListener('keydown', handleKeydown);
                if (lastFocusedElement) {
                    lastFocusedElement.focus();
                }
            };

            const handleKeydown = (event) => {
                if (event.key === 'Escape') {
                    closeOverlay();
                }
            };

            triggers.forEach((trigger) => {
                trigger.addEventListener('click', () => openOverlay(trigger));
            });
            closeBtn?.addEventListener('click', closeOverlay);
            overlay?.addEventListener('click', (event) => {
                if (event.target === overlay) {
                    closeOverlay();
                }
            });
        })();
    </script>
</body>
</html>
